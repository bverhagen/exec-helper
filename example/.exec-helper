commands:
    - build
    - clean
    - analyze

build:
    - scons

clean:
    - scons

analyze:
    - cppcheck

scons:
    patterns:
        - COMPILER
        - MODE
    build-dir: build/{COMPILER}/{MODE}
    single-threaded: no
    command-line: compiler={COMPILER} mode={MODE}
    clean:
        command-line: 
            - --clean
            - compiler={COMPILER}
            - mode={MODE}

cppcheck:
    patterns:
        - TARGET
        - RUNTARGET
    src-dir: src
    target-path: "{TARGET}-{RUNTARGET}.cpp"
    command-line:
        - --std=c++11
        - --error-exitcode=1
    enable-checks:
        - all
