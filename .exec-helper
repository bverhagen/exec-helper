commands:
    - build
    - clean
    - rebuild
    - analyze

build:
    - scons

clean:
    - scons

rebuild:
    - clean
    - build

analyze:
    - cppcheck

default-compilers:
    - gcc
    - clang

default-modes:
    - debug
    - release

default-targets:
    - ''

default-run-targets:
    - "*"

scons:
    patterns:
        - COMPILER
        - MODE
    single-threaded: no
    build:
        command-line: 
            - compiler={COMPILER}
            - mode={MODE}
            - verbose=no
    clean:
        command-line:
            - --clean
            - compiler={COMPILER}
            - mode={MODE}
    target: "{TARGET}-{RUNTARGET}"

cppcheck:
    src-dir: src
    command-line:
        - --std=c++11
        - --error-exitcode=1
